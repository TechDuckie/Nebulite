<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Mobile Space Shooter — Levels & Waves</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="gameWrap">
    <canvas id="game"></canvas>

    <div class="ui" id="uiRoot">
      <div class="hud" id="hud">
        <span id="scoreText">Score: 0</span>
        <span class="hearts" id="hearts"></span>
      </div>
      <div class="waveInfo" id="waveInfo">Wave 0 / 0</div>
      <div class="bossBar" id="bossBar"><div class="bossBarInner" id="bossBarInner"></div></div>
      <div class="bossName" id="bossName"></div>

      <div class="left-joystick" id="joystick" aria-hidden>
        <div class="joystick-base">
          <div class="joystick-knob" id="knob"></div>
        </div>
      </div>

      <div class="right-buttons">
        <div class="btn" id="btn-secondary" title="Toggle auto-fire"><svg width="36" height="36" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" fill="rgba(255,255,255,0.85)"/></svg></div>
        <div class="btn" id="btn-fire" title="Shoot (laser)"><img src="assets/laser1.png" alt="shoot" onerror="this.style.display='none'"/></div>
      </div>

      <div class="debug" id="dbg">DEBUG</div>
    </div>

    <!-- Dialogue Screen -->
    <div class="screen" id="screenDialogue" style="display:none; justify-content: flex-end;">
      <div class="panel dialogue-panel">
        <img id="dialogueImage" src="" alt="Character"/>
        <div class="dialogue-content">
          <p id="dialogueText"></p>
          <button class="btn-ui" id="btnDialogueGo" style="display:none;">GO</button>
        </div>
      </div>
    </div>

    <!-- Screens -->
    <div class="screen" id="screenMenu">
      <div class="menu-panel">
        <h1 class="game-title">Spacewave</h1>
        <div>
          <button class="btn-ui" id="btnPlay">Play</button>
          <button class="btn-ui" id="btnSettings">Settings</button>
          <button class="btn-ui" id="btnLevelSelect">Level Select</button>
        </div>
      </div>
    </div>

    <div class="screen" id="screenLevels" style="display:none">
      <div class="panel">
        <h2>Select Level</h2>
        <div class="levels-grid" id="levelsGrid"></div>
        <div class="small">Defeat boss to unlock the next level.</div>
        <div style="margin-top:10px"><button class="btn-ui" id="btnBackToMenu">Back</button></div>
      </div>
    </div>

    <div class="screen" id="screenSettings" style="display:none">
      <div class="panel">
        <h2>Settings</h2>
        <div class="settings-container">
          <div class="setting">
            <label for="masterVolume">Master Volume</label>
            <input type="range" id="masterVolume" min="0" max="100" value="100">
          </div>
          <div class="setting">
            <label for="sfxVolume">SFX Volume</label>
            <input type="range" id="sfxVolume" min="0" max="100" value="100">
          </div>
        </div>
        <div style="margin-top:10px"><button class="btn-ui" id="btnSettingsBack">Back</button></div>
      </div>
    </div>

    <div class="screen" id="screenVictory" style="display:none">
      <div class="panel">
        <h2>Victory!</h2>
        <p>Boss defeated — level unlocked.</p>
        <button class="btn-ui" id="btnVictoryContinue">Continue</button>
      </div>
    </div>

    <div class="screen" id="screenGameOver" style="display:none">
      <div class="panel">
        <h2>Game Over</h2>
        <button class="btn-ui" id="btnRetry">Retry Level</button>
        <div style="margin-top:8px"><button class="btn-ui" id="btnGameOverToMenu">Menu</button></div>
        <div style="margin-top:8px"><button class="btn-ui" id="btnToLevels">Level Select</button></div>
      </div>
    </div>

  </div>

<script src="script.js"></script>
</body>
</html>